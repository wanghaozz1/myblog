<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>nuxt学习笔记 | 汪皓的个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="nuxt.js相关概述nuxt.js简单的说是Vue.js的通用框架，最常用的就是用来作SSR（服务器端渲染）.Vue.js是开发SPA（单页应用）的,Nuxt.js这个框架，用Vue开发多页应用，并在服务端完成渲染，可以直接用命令把我们制作的vue项目生成为静态html。">
<meta property="og:type" content="article">
<meta property="og:title" content="nuxt学习笔记">
<meta property="og:url" content="https://github.com/wanghaozz1/myblog/2021/06/17/nuxt%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="汪皓的个人博客">
<meta property="og:description" content="nuxt.js相关概述nuxt.js简单的说是Vue.js的通用框架，最常用的就是用来作SSR（服务器端渲染）.Vue.js是开发SPA（单页应用）的,Nuxt.js这个框架，用Vue开发多页应用，并在服务端完成渲染，可以直接用命令把我们制作的vue项目生成为静态html。">
<meta property="og:locale">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/4/30/16a6db58678e3bbe?imageView2/0/w/1280/h/960/format/webp/ignore-error/1">
<meta property="article:published_time" content="2021-06-17T13:01:26.000Z">
<meta property="article:modified_time" content="2021-06-17T13:03:25.791Z">
<meta property="article:author" content="汪皓">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://user-gold-cdn.xitu.io/2019/4/30/16a6db58678e3bbe?imageView2/0/w/1280/h/960/format/webp/ignore-error/1">
  
    <link rel="alternate" href="/myblog/atom.xml" title="汪皓的个人博客" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/myblog/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/myblog/css/style.css">

  
    
<link rel="stylesheet" href="/myblog/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/myblog/" id="logo">汪皓的个人博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/myblog/" id="subtitle">wanghao&#39;s blog</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/myblog/">Home</a>
        
          <a class="main-nav-link" href="/myblog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/myblog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Suche"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Suche"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://github.com/wanghaozz1/myblog"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="nuxt-nuxt学习笔记" class="h-entry article article-type-nuxt" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/myblog/2021/06/17/nuxt%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="article-date">
  <time class="dt-published" datetime="2021-06-17T13:01:26.000Z" itemprop="datePublished">2021-06-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      nuxt学习笔记
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="nuxt-js相关概述"><a href="#nuxt-js相关概述" class="headerlink" title="nuxt.js相关概述"></a><a href="#nuxt-js%E7%9B%B8%E5%85%B3%E6%A6%82%E8%BF%B0" title="nuxt.js相关概述"></a>nuxt.js相关概述</h1><p>nuxt.js简单的说是Vue.js的通用框架，最常用的就是用来作SSR（服务器端渲染）.Vue.js是开发SPA（单页应用）的,Nuxt.js这个框架，用Vue开发多页应用，并在服务端完成渲染，可以直接用命令把我们制作的vue项目生成为静态html。</p>
<span id="more"></span>

<h2 id="那服务器端渲染到底有什么好处呢？"><a href="#那服务器端渲染到底有什么好处呢？" class="headerlink" title="那服务器端渲染到底有什么好处呢？"></a><a href="#%E9%82%A3%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E6%B8%B2%E6%9F%93%E5%88%B0%E5%BA%95%E6%9C%89%E4%BB%80%E4%B9%88%E5%A5%BD%E5%A4%84%E5%91%A2%EF%BC%9F" title="那服务器端渲染到底有什么好处呢？"></a>那服务器端渲染到底有什么好处呢？</h2><p>主要的原因时SPA（单页应用）不利于搜索引擎的SEO操作，Nuxt.js适合作新闻、博客、电影、咨询这样的需要搜索引擎提供流量的项目。如果你要作移动端的项目，就没必要使用这个框架了。</p>
<h2 id="什么是SSR？"><a href="#什么是SSR？" class="headerlink" title="什么是SSR？"></a><a href="#%E4%BB%80%E4%B9%88%E6%98%AFSSR%EF%BC%9F" title="什么是SSR？"></a>什么是SSR？</h2><p>在认识SSR之前，首先对CSR与SSR之间做个对比。<br>首先看一下传统的web开发，传统的web开发是，客户端向服务端发送请求，服务端查询数据库，拼接HTML字符串（模板），通过一系列的数据处理之后，把整理好的HTML返回给客户端,浏览器相当于打开了一个页面。这种比如我们经常听说过的jsp,PHP,aspx也就是传统的MVC的开发。<br>SPA应用，到了Vue、React，单页面应用优秀的用户体验，逐渐成为了主流，页面整体式javaScript渲染出来的，称之为客户端渲染CSR。SPA渲染过程。由客户端访问URL发送请求到服务端，返回HTML结构（但是SPA的返回的HTML结构是非常的小的，只有一个基本的结构，如第一段代码所示）。客户端接收到返回结果之后，在客户端开始渲染HTML，渲染时执行对应javaScript，最后渲染template，渲染完成之后，再次向服务端发送数据请求，注意这里时数据请求，服务端返回json格式数据。客户端接收数据，然后完成最终渲染。<br>SPA虽然给服务器减轻了压力，但是也是有缺点的：</p>
<p>首屏渲染时间比较长：必须等待JavaScript加载完毕，并且执行完毕，才能渲染出首屏。<br>SEO不友好：爬虫只能拿到一个div元素，认为页面是空的，不利于SEO。</p>
<p>为了解决如上两个问题，出现了SSR解决方案，后端渲染出首屏的DOM结构返回，前端拿到内容带上首屏，后续的页面操作，再用单页面路由和渲染，称之为服务端渲染(SSR)。<br>SSR渲染流程是这样的，客户端发送URL请求到服务端，服务端读取对应的url的模板信息，在服务端做出html和数据的渲染，渲染完成之后返回html结构，客户端这时拿到的之后首屏页面的html结构。所以用户在浏览首屏的时候速度会很快，因为客户端不需要再次发送ajax请求。并不是做了SSR我们的页面就不属于SPA应用了，它仍然是一个独立的spa应用。<br>SSR是处于CSR与SPA应用之间的一个折中的方案，在渲染首屏的时候在服务端做出了渲染，注意仅仅是首屏，其他页面还是需要在客户端渲染的，在服务端接收到请求之后并且渲染出首屏页面，会携带着剩余的路由信息预留给客户端去渲染其他路由的页面。<br>Nuxt.js是特点（优点）：</p>
<ul>
<li><p>  基于Vue</p>
</li>
<li><p>  自动代码分层</p>
</li>
<li><p>  服务端渲染</p>
</li>
<li><p>  强大的路由功能，支持异步数据</p>
</li>
<li><p>  静态文件服务</p>
</li>
<li><p>  EcmaScript6和EcmaScript7的语法支持</p>
</li>
<li><p>  打包和压缩JavaScript和Css</p>
</li>
<li><p>  HTML头部标签管理</p>
</li>
<li><p>  本地开发支持热加载</p>
</li>
<li><p>  集成ESLint</p>
</li>
<li><p>  支持各种样式预编译器SASS、LESS等等</p>
</li>
<li><p>支持HTTP/2推送</p>
<h1 id="Nuxt环境搭建"><a href="#Nuxt环境搭建" class="headerlink" title="Nuxt环境搭建"></a><a href="#Nuxt%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA" title="Nuxt环境搭建"></a>Nuxt环境搭建</h1></li>
</ul>
<h2 id="nuxt-js安装"><a href="#nuxt-js安装" class="headerlink" title="nuxt.js安装"></a><a href="#nuxt-js%E5%AE%89%E8%A3%85" title="nuxt.js安装"></a>nuxt.js安装</h2><ul>
<li><p>使用init命令来初始化Nuxt.js项目</p>
<p>  <code>vue init nuxt/starter</code></p>
</li>
<li><p>  这时候他会在github上下载模版，然后会询问你项目的名称叫什么，作者什么的，这些完全可以根据自己的爱好填写。</p>
</li>
<li><p>  使用npm install安装依赖包</p>
</li>
<li><p>  使用npm run dev 启动服务</p>
</li>
<li><p>在浏览器输入 localhost:3000,可以看到结果</p>
<h1 id="Nuxt-渲染流程"><a href="#Nuxt-渲染流程" class="headerlink" title="Nuxt 渲染流程"></a><a href="#Nuxt-%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B" title="Nuxt 渲染流程"></a>Nuxt 渲染流程</h1><p><img src="https://user-gold-cdn.xitu.io/2019/4/30/16a6db58678e3bbe?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p>
</li>
</ul>
<p>通过上面的流程图可以看出，当一个客户端请求进入的时候，服务端有通过nuxtServerInit这个命令执行在Store的action中，在这里接收到客户端请求的时候，可以将一些客户端信息存储到Store中，也就是说可以把在服务端存储的一些客户端的一些登录信息存储到Store中。之后使用了中间件机制，中间件其实就是一个函数，会在每个路由执行之前去执行，在这里可以做很多事情，或者说可以理解为是路由器的拦截器的作用。然后再validate执行的时候对客户端携带的参数进行校验，在asyncData与fetch进入正式的渲染周期，asyncData向服务端获取数据，把请求到的数据合并到Vue中的data中，</p>
<h1 id="Nuxt目录结构"><a href="#Nuxt目录结构" class="headerlink" title="Nuxt目录结构"></a><a href="#Nuxt%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84" title="Nuxt目录结构"></a>Nuxt目录结构</h1><p><code>└─my-nuxt-demo</code></p>
<p><code> ├─.nuxt               // Nuxt自动生成，临时的用于编辑的文件，build</code></p>
<p><code> ├─assets              // 用于组织未编译的静态资源如LESS、SASS或JavaScript,对于不需要通过 Webpack 处理的静态资源文件，可以放置在 static 目录中</code></p>
<p><code>  ├─components          // 用于自己编写的Vue组件，比如日历组件、分页组件</code></p>
<p>  <code>├─layouts             // 布局目录，用于组织应用的布局组件，不可更改⭐</code></p>
<p>  <code>├─middleware          // 用于存放中间件</code></p>
<p>  <code>├─node_modules</code></p>
<p>  <code>├─pages               // 用于组织应用的路由及视图,Nuxt.js根据该目录结构自动生成对应的路由配置，文件名不可更改⭐</code></p>
<p>  <code>├─plugins             // 用于组织那些需要在 根vue.js应用 实例化之前需要运行的 Javascript 插件。</code></p>
<p>  <code>├─static              // 用于存放应用的静态文件，此类文件不会被 Nuxt.js 调用 Webpack 进行构建编译处理。 服务器启动的时候，该目录下的文件会映射至应用的根路径 / 下。文件夹名不可更改。⭐</code></p>
<p>  <code>└─store               // 用于组织应用的Vuex 状态管理。文件夹名不可更改。⭐</code></p>
<p>  <code>├─.editorconfig       // 开发工具格式配置</code></p>
<p>  <code>├─.eslintrc.js        // ESLint的配置文件，用于检查代码格式</code></p>
<p>  <code>├─.gitignore          // 配置git忽略文件</code></p>
<p>  <code>├─nuxt.config.js      // 用于组织Nuxt.js 应用的个性化配置，以便覆盖默认配置。文件名不可更改。⭐</code></p>
<p>  <code>├─package-lock.json   // npm自动生成，用于帮助package的统一设置的，yarn也有相同的操作</code></p>
<p>  <code>├─package.json        // npm 包管理配置文件</code></p>
<p>  <code>├─README.md</code></p>
<h1 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a><a href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" title="配置文件"></a>配置文件</h1><td class="code"><pre><span class="line">const pkg = require(&#x27;./package&#x27;)</span>
<span class="line">module.exports = &#123;</span>
<span class="line">  mode: &#x27;universal&#x27;,    //  当前渲染使用模式</span>
<span class="line">  head: &#123;       //  页面head配置信息</span>
<span class="line">    title: pkg.name,        //  title</span>
<span class="line">    meta: [         //  meat</span>
<span class="line">      &#123; charset: &#x27;utf-8&#x27; &#125;,</span>
<span class="line">      &#123; name: &#x27;viewport&#x27;, content: &#x27;width=device-width, initial-scale=1&#x27; &#125;,</span>
<span class="line">      &#123; hid: &#x27;description&#x27;, name: &#x27;description&#x27;, content: pkg.description &#125;</span>
<span class="line">    ],</span>
<span class="line">    link: [     //  favicon，若引用css不会进行打包处理</span>
<span class="line">      &#123; rel: &#x27;icon&#x27;, type: &#x27;image/x-icon&#x27;, href: &#x27;/favicon.ico&#x27; &#125;</span>
<span class="line">    ]</span>
<span class="line">  &#125;,</span>
<span class="line">  loading: &#123; color: &#x27;#fff&#x27; &#125;,   //  页面进度条</span>
<span class="line">  css: [    //  全局css（会进行webpack打包处理）</span>
<span class="line">    &#x27;element-ui/lib/theme-chalk/index.css&#x27;  </span>
<span class="line">  ],</span>
<span class="line">  plugins: [        //  插件</span>
<span class="line">    &#x27;@/plugins/element-ui&#x27;</span>
<span class="line">  ],</span>
<span class="line">  modules: [        //  模块</span>
<span class="line">    &#x27;@nuxtjs/axios&#x27;,</span>
<span class="line">  ],</span>
<span class="line">  axios: &#123;&#125;,</span>
<span class="line">  build: &#123;      //  打包</span>
<span class="line">    transpile: [/^element-ui/],</span>
<span class="line">    extend(config, ctx) &#123;       //  webpack自定义配置</span>
<span class="line">    &#125;</span>
<span class="line">  &#125;</span>
<span class="line">&#125;</span>
<span class="line"></span>
</pre></td></tr></table></figure>

<h1 id="Nuxt常用配置项"><a href="#Nuxt常用配置项" class="headerlink" title="Nuxt常用配置项"></a><a href="#Nuxt%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E9%A1%B9" title="Nuxt常用配置项"></a>Nuxt常用配置项</h1><h2 id="1-配置IP和端口"><a href="#1-配置IP和端口" class="headerlink" title="1.配置IP和端口"></a><a href="#1-%E9%85%8D%E7%BD%AEIP%E5%92%8C%E7%AB%AF%E5%8F%A3" title="1.配置IP和端口"></a>1.配置IP和端口</h2><p>开发中经常会遇到端口被占用或者指定IP的情况。我们需要在根目录下的package.json里对config项进行配置。比如现在我们想把IP配置成127.0.0.1，端口设置1000。</p>
<p>/package.json</p>
<td class="code"><pre><span class="line">&quot;config&quot;:&#123;</span>
<span class="line">    &quot;nuxt&quot;:&#123;</span>
<span class="line">      &quot;host&quot;:&quot;127.0.0.1&quot;,</span>
<span class="line">      &quot;port&quot;:&quot;1000&quot;</span>
<span class="line">    &#125;</span>
<span class="line">  &#125;,</span>
</pre></td></tr></table></figure>

<h2 id="2-配置全局CSS"><a href="#2-配置全局CSS" class="headerlink" title="2.配置全局CSS"></a><a href="#2-%E9%85%8D%E7%BD%AE%E5%85%A8%E5%B1%80CSS" title="2.配置全局CSS"></a>2.配置全局CSS</h2><p>  在开发多页项目时，都会定义一个全局的CSS来初始化我们的页面渲染，比如把padding和margin设置成0，网上也有非常出名的开源css文件normailze.css。要定义这些配置，需要在nuxt.config.js里进行操作。<br>比如现在我们要把页面字体设置为红色，就可以在assets/css/common.css文件，然后把字体设置为红色。</p>
<p>/assets/css/common.css</p>
<td class="code"><pre><span class="line">html&#123;</span>
<span class="line">    color:red;</span>
<span class="line">&#125;</span>
<span class="line"></span>
</pre></td></tr></table></figure>

<p>/nuxt.config.js</p>
<p></pre></td><td class="code"><pre><span class="line">css:[&#x27;~assets/css/normailze.css&#x27;],</span><br></pre></td></tr></table></figure></p>
<h2 id="3-配置webpack的loader"><a href="#3-配置webpack的loader" class="headerlink" title="3.配置webpack的loader"></a><a href="#3-%E9%85%8D%E7%BD%AEwebpack%E7%9A%84loader" title="3.配置webpack的loader"></a>3.配置webpack的loader</h2><p>在nuxt.config.js里是可以对webpack的基本配置进行覆盖的，比如现在我们要配置一个url-loader来进行小图片的64位打包。就可以在nuxt.config.js的build选项里进行配置.关可参照此链接<a target="_blank" rel="noopener" href="https://www.cnblogs.com/ssh-007/p/7867954.html">https://www.cnblogs.com/ssh-007/p/7867954.html</a></p>
<td class="code"><pre><span class="line">build: &#123;</span>
<span class="line">    loaders:[</span>
<span class="line">      &#123;</span>
<span class="line">        test:/\.(png|jpe?g|gif|svg)$/,</span>
<span class="line">        loader:&quot;url-loader&quot;,</span>
<span class="line">        query:&#123;</span>
<span class="line">          limit:10000,</span>
<span class="line">          name:&#x27;img/[name].[hash].[ext]&#x27;</span>
<span class="line">        &#125;</span>
<span class="line">      &#125;</span>
<span class="line">    ],</span>
<span class="line">    /*</span>
<span class="line">    ** Run ESLint on save</span>
<span class="line">    */</span>
<span class="line">    extend (config, &#123; isDev, isClient &#125;) &#123;</span>
<span class="line">      if (isDev &amp;&amp; isClient) &#123;</span>
<span class="line">        config.module.rules.push(&#123;</span>
<span class="line">          enforce: &#x27;pre&#x27;,</span>
<span class="line">          test: /\.(js|vue)$/,</span>
<span class="line">          loader: &#x27;eslint-loader&#x27;,</span>
<span class="line">          exclude: /(node_modules)/</span>
<span class="line">        &#125;)</span>
<span class="line">      &#125;</span>
<span class="line">    &#125;</span>
<span class="line">  &#125;</span>
</pre></td></tr></table></figure>

<h2 id="4-全局修改seo的head信息"><a href="#4-全局修改seo的head信息" class="headerlink" title="4.全局修改seo的head信息"></a><a href="#4-%E5%85%A8%E5%B1%80%E4%BF%AE%E6%94%B9seo%E7%9A%84head%E4%BF%A1%E6%81%AF" title="4.全局修改seo的head信息"></a>4.全局修改seo的head信息</h2><p>nuxt.config.js文件中,修改title为wfaceboss：</p>
<td class="code"><pre><span class="line">head: &#123;</span>
<span class="line">   title: &#x27;wfaceboss&#x27;,</span>
<span class="line">   meta: [</span>
<span class="line">     &#123; charset: &#x27;utf-8&#x27; &#125;,</span>
<span class="line">     &#123; name: &#x27;viewport&#x27;, content: &#x27;width=device-width, initial-scale=1&#x27; &#125;,</span>
<span class="line">     &#123; hid: &#x27;description&#x27;, name: &#x27;description&#x27;, content: &#x27;Nuxt.js project&#x27; &#125;</span>
<span class="line">   ],</span>
<span class="line">   link: [</span>
<span class="line">     &#123; rel: &#x27;icon&#x27;, type: &#x27;image/x-icon&#x27;, href: &#x27;/favicon.ico&#x27; &#125;</span>
<span class="line">   ]</span>
<span class="line"> &#125;,</span>
</pre></td></tr></table></figure>

<h1 id="Nuxt的路由配置和参数传递"><a href="#Nuxt的路由配置和参数传递" class="headerlink" title="Nuxt的路由配置和参数传递"></a><a href="#Nuxt%E7%9A%84%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE%E5%92%8C%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92" title="Nuxt的路由配置和参数传递"></a>Nuxt的路由配置和参数传递</h1><h2 id="1-基本路由"><a href="#1-基本路由" class="headerlink" title="1.基本路由"></a><a href="#1-%E5%9F%BA%E6%9C%AC%E8%B7%AF%E7%94%B1" title="1.基本路由"></a>1.基本路由</h2><p>Nuxt.js 依据 pages 目录结构自动生成 vue-router 模块的路由配置</p>
<h2 id="2-页面跳转"><a href="#2-页面跳转" class="headerlink" title="2.页面跳转"></a><a href="#2-%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC" title="2.页面跳转"></a>2.页面跳转</h2><p>1.不要写成a标签，因为是重新获取一个新的页面，并不是SPA</p>
<p>2.<code>&amp;lt;nuxt-link to=&amp;quot;/users&amp;quot;&amp;gt;&amp;lt;/nuxt-link&amp;gt;</code></p>
<p>3.this.$router.push(‘/users’)  </p>
<h2 id="3-动态路由"><a href="#3-动态路由" class="headerlink" title="3.动态路由"></a><a href="#3-%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1" title="3.动态路由"></a>3.动态路由</h2><ul>
<li><p>  在 Nuxt.js 里面定义带参数的动态路由，需要创建对应的以下划线作为前缀的 Vue 文件 或 目录</p>
</li>
<li><p>获取动态参数</p>
<h2 id="4-跳转路由传递参数并且取值"><a href="#4-跳转路由传递参数并且取值" class="headerlink" title="4.跳转路由传递参数并且取值"></a><a href="#4-%E8%B7%B3%E8%BD%AC%E8%B7%AF%E7%94%B1%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0%E5%B9%B6%E4%B8%94%E5%8F%96%E5%80%BC" title="4.跳转路由传递参数并且取值"></a>4.跳转路由传递参数并且取值</h2><p>路由经常需要传递参数，我们可以简单的使用params来进行传递参数，我们现在向新闻页面（news）传递个参数，然后在新闻页面进行简单的接收。</p>
</li>
</ul>
<p>（1）使用nuxt传递参数</p>
<td class="code"><pre><span class="line">&lt;template&gt;</span>
<span class="line">  &lt;div&gt;</span>
<span class="line">    &lt;ul&gt;</span>
<span class="line">      &lt;li&gt;&lt;nuxt-link :to=&quot;`informa/$&#123;item.newsCode&#125;-$&#123;item.newsType&#125;`&quot;&gt;&lt;/li&gt;</span>
<span class="line">    &lt;/ul&gt;</span>
<span class="line">  &lt;/div&gt;</span>
<span class="line">&lt;/template&gt;</span>
</pre></td></tr></table></figure>

<p>（2）使用nuxt接收参数</p>
<td class="code"><pre><span class="line">async asyncData(context) &#123;</span>
<span class="line">    let newsCode = context.route.params.code.split(&#x27;-&#x27;)[0]</span>
<span class="line">    let newsType = context.route.params.code.split(&#x27;-&#x27;)[1]</span>
<span class="line">&#125;</span>
</pre></td></tr></table></figure>

<p>（3）使用this.$router.push的params传递参数</p>
<td class="code"><pre><span class="line">传递参数  -- this.$router.push(&#123;path: &#x27; 路由 &#x27;, query: &#123;key: value&#125;&#125;)</span>
<span class="line">参数取值  -- this.$route.query.key</span>
<span class="line"></span>
<span class="line">注: 使用这种方式，传递参数会拼接在路由后面，出现在地址栏</span>
</pre></td></tr></table></figure>

<p>（4）使用this.$router.push的params传递参数</p>
<td class="code"><pre><span class="line">传递参数  -- this.$router.push(&#123;name: &#x27; 路由的name &#x27;, params: &#123;key: value&#125;&#125;)</span>
<span class="line">参数取值  -- this.$route.params.key</span>
<span class="line"></span>
<span class="line">注: 使用这种方式，参数不会拼接在路由后面，地址栏上看不到参数</span>
<span class="line"></span>
<span class="line">注意: 由于动态路由也是传递params的，所以在 this.$router.push() 方法中 path不能和params一起使用，否则params将无效。需要用name来指定页面。</span>
</pre></td></tr></table></figure>

<h2 id="路由参数校验"><a href="#路由参数校验" class="headerlink" title="路由参数校验"></a><a href="#%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C" title="路由参数校验"></a>路由参数校验</h2><p>Nuxt.js 可以让你在动态路由对应的页面组件中配置一个validate方法用于校验动态路由参数的有效性。该函数有一个布尔类型的返回值，如果返回true则表示校验通过，如果返回false则表示校验未通过。</p>
<td class="code"><pre><span class="line">export default &#123;</span>
<span class="line">  // nuxt中使用validate方法进行路由参数校验，这个方法必须返回一个布尔值，为true表示校验通过，为false表示校验失败。注意validate不能写到methods属性中。</span>
<span class="line">  validate(obj) &#123;</span>
<span class="line">    // console.log(obj);</span>
<span class="line">    // return true</span>
<span class="line">    return /^\d+$/.test(obj.params.id)</span>
<span class="line">  &#125;</span>
<span class="line">&#125;</span>
</pre></td></tr></table></figure>

<h2 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a><a href="#%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1" title="嵌套路由"></a>嵌套路由</h2><p>1.添加一个Vue文件，作为父组件<br>2.添加一个与父组件同名的文件夹来存放子视图组件<br>3.在父文件中，添加组件，用于展示匹配到的子视图</p>
<p>未完待续。。。。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/wanghaozz1/myblog/2021/06/17/nuxt%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" data-id="ckq0x3vgx0001l4ug19au1ri2" data-title="nuxt学习笔记" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/myblog/2021/06/17/%E6%90%AD%E5%BB%BAhexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Älter</strong>
      <div class="article-nav-title">搭建hexo个人博客</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/myblog/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/myblog/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/myblog/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/myblog/archives/2021/02/">February 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/myblog/2021/06/17/nuxt%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">nuxt学习笔记</a>
          </li>
        
          <li>
            <a href="/myblog/2021/06/17/%E6%90%AD%E5%BB%BAhexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">搭建hexo个人博客</a>
          </li>
        
          <li>
            <a href="/myblog/2021/05/11/js%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">js数据结构</a>
          </li>
        
          <li>
            <a href="/myblog/2021/04/17/js%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/">js面试问题</a>
          </li>
        
          <li>
            <a href="/myblog/2021/02/13/VS%20code%20%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/">VS code 使用技巧</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 汪皓<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/myblog/" class="mobile-nav-link">Home</a>
  
    <a href="/myblog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/myblog/js/jquery-3.4.1.min.js"></script>



  
<script src="/myblog/fancybox/jquery.fancybox.min.js"></script>




<script src="/myblog/js/script.js"></script>





  </div>
</body>
</html>